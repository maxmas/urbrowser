/*
Kule urBrowser
Version: 1.150527

License: MIT License

Author: Kei Cheng
Website: http://www.kule.tw
Github: https://github.com/keicheng/urbrowser
Facebook: https://www.facebook.com/kule.tw
*/

!function(){"use strict";var a=document.documentElement,b=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),d=window.location.host,e={xs:480,sm:768,md:992,lg:1200},f={getBrowserName:function(){if(b.match("puffin"))return"puffin";if(b.match("mercury"))return"mercury";if(!b.match("coast")){if(b.match("mxbrowser"))return"mxbrowser";if(b.match("acheetahi"))return"acheetahi";if(b.match("bdbrowser_i18n"))return"bdbrowser_i18n";if(b.match("bidubrowser"))return"bidubrowser";if(b.match("ucbrowser"))return"ucbrowser";if(b.match("opr")||b.match("opera")||b.match("opios"))return b.match("version")?"version":b.match("opios")?"opios":"opr";if(b.match("firefox"))return"firefox";if(b.match("iemobile"))return"iemobile";if(b.match("msie"))return"msie";if(b.match("rv:"))return"rv";if(b.match("applewebkit")){if(b.match("vivaldi"))var a="vivaldi";else if(b.match("chrome"))var a="chrome";else if(b.match("version"))var a="version";else if(b.match("crios"))var a="crios";else var a="safari";return a}return null}var a="coast"},getBrowserVersion:function(a){var c=a,d=c.length,e=b.indexOf(c)+d+1,f=4,g=parseFloat(b.substr(e,f));return g},getDesktopOSName:function(){if("desktop"==f.getDeviceType()){var a="unknown";return-1!=b.indexOf("win")?a=-1!=b.indexOf("windows nt")?"windows nt":"windows":-1!=b.indexOf("mac")?a="mac":-1!=b.indexOf("x11")?a="unix":-1!=b.indexOf("linux")?a="linux":-1!=b.indexOf("sunos")&&(a="solaris"),a}},setDesktopOSName:function(){"desktop"==f.getDeviceType()&&a.setAttribute("data-os-name",f.getDesktopOSName())},getWindowsVersion:function(){var e,g,a=f.getDesktopOSName(),c=a.length,d=b.indexOf(a)+c+1;return-1!=b.indexOf("win")?(a.match("windows nt")?(e=3,g=parseFloat(b.substr(d,e))):(e=2,g=parseFloat(b.substr(d,e))),g):void 0},setWindowsVersion:function(){"desktop"==f.getDeviceType()&&-1!=b.indexOf("win")&&a.setAttribute("data-os-version",f.getWindowsVersion())},urBrowser:function(){var a=f.getBrowserName(),c=f.getBrowserVersion(a);if(null===a)var d=null;else if("opr"==a||"opera"==a||"opios"==a){var e="presto",g="opera";b.match("applewebkit")&&(e=" webkit");var d=g+e}else if("version"==a||"chrome"==a||"crios"==a||"safari"==a){var e="webkit";if("chrome"==a||"crios"==a)var g="chrome";else if("version"==a)if(b.match("android"))var g="adrBuiltin";else var g="safari";else var g="safari";var d=g+" "+e}else if("msie"==a||"rv"==a||"iemobile"==a){var e="ie",g="ie";"msie"==a?f.getBrowserVersion("msie"):"iemobile"==a?f.getBrowserVersion("iemobile"):f.getBrowserVersion("rv");var d=e}else{if(b.match("iemobile")||b.match("msie"))var d=a+" ie";else if(b.match("applewebkit")){var e=" webkit";e=b.match("chrome")||b.match("crios")?" chrome webkit":b.match("version")?b.match("android")?" adrBuiltin webkit":" safari webkit":" safari webkit";var d=a+e}else var d=a;var g=a}if(null!=c){var i=g+c,j=d.split(" "),k=j[0]+" "+i;if(j.length>1)for(var l=1;l<j.length;l++)k+=" "+j[l];return k}return d},urPlatform:function(){var d;c.match("win32")||c.match("win64")?b.match("windows nt")?d="windows":(b.match("windows phone")||b.match("iemobile")||b.match("mobile"))&&(d="wp"):d=c.match("armv")||b.match("android")?"android":c.match("linux")?b.match("cros")?"chromeos":"linux":c.match("iphone")?"iphone":c.match("ipad")?"ipad":c.match("ipod")?"ipod":c.match("mac")?"mac":c.match("x11")?"unix":c.match("sunos")?"solaris":"unknown",a.setAttribute("id",d)},getDeviceType:function(){var a;return a=b.match("mobile")||window.orientation?"mobile":"desktop"},urDevice:function(){var b=f.getDeviceType();a.setAttribute("data-device",b)},simDevice:function(){var c,b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b<e.sm?c="phone":b>=e.sm&&b<e.md?c="tablet":b>=e.md&&(c="desktop"),a.setAttribute("data-simDevice",c)},getOrientation:function(){var a;if("mobile"===f.getDeviceType())a=90==Math.abs(window.orientation)?"landscape":"portrait";else{var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a=b>=c?"landscape":"portrait"}return a},urScreen:function(){var b=f.getOrientation(),c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;a.setAttribute("data-screen-width",c),a.setAttribute("data-screen-mode",b)},urVersion:function(){var e,c=f.getBrowserName(),d=f.getBrowserVersion(c);e=b.match(c)?d:"unknown",a.setAttribute("data-browser-version",e)},breakpoints:function(){var c,b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b<e.sm?c="screen-xs":b>=e.sm&&b<e.md?c="screen-sm":b>=e.md&&b<e.lg?c="screen-md":b>=e.lg&&(c="screen-lg"),a.setAttribute("data-screen-size",c)},setLanguage:function(){if(null==a.lang||""==a.lang){var b=navigator.language||navigator.browserLanguage||navigator.systemLanguage;(void 0!=b||""!=b||null!=b)&&(a.lang=b)}},resizeInfo:function(){f.urScreen(),f.breakpoints(),f.simDevice()},browserName:function(b){var d,c=f.urBrowser(),e=a.className;if(c){var g=c.split(" ");d=g[0]}else d="unknown";if("setClass"===b)e.length?a.className+=" "+c:a.className=c;else if("setAttr"===b)a.setAttribute("data-browser-name",d);else if("return"===b)return d},isLocalhost:d.indexOf("localhost",0)>=0||d.indexOf("192.168.",0)>=0||d.indexOf("10.",0)>=0||d.indexOf("urbrowser.kule.tw",0)>=0,isOldIE:"desktop"===f.getDeviceType()&&"ie"===f.browserName("return")&&f.getVersion(f.browserName("return"))<9,done:function(){f.urPlatform(),f.setLanguage(),f.browserName("setClass"),f.urDevice(),a.setAttribute("data-urbrowser","true"),f.browserName("setAttr"),f.urVersion(),f.setDesktopOSName(),f.setWindowsVersion(),f.resizeInfo(),window.addEventListener?window.addEventListener("resize",f.resizeInfo,!1):window.attachEvent("onresize",f.resizeInfo,!1)}};f.done()}(window);